# Test Cases - Edge
**Kate – Language Selection**
(What happens when things go wrong or are unusual?)- Resiste/Non si rompe

## Overview
This document contains **Edge test cases** for the *Language Selection* feature in **Kate (KDE text editor)**.  
The focus is on verifying the behavior of the feature under edge and abnormal conditions.

## Index
- [TC-ED-DropdownScroll-01 – Language dropdown scroll instability (Primary and Fallback)](#tc-ed-dropdownscroll-01--language-dropdown-scroll-instability-primary-and-fallback)
- [TC-ED-FallbackEqualsPrimary-02 – Fallback Language identical to Primary is not persisted after restart](#tc-ed-fallbackequalsprimary-02--fallback-language-identical-to-primary-is-not-persisted-after-restart)


## TC-ED-DropdownScroll-01 – Language dropdown scroll instability (Primary and Fallback)
**Type:** Edge  
**Priority:** Medium  
**Related area:** Settings → Language

### Preconditions
- Kubuntu VM is running and responsive
- Kate is installed
- The Language settings dialog is accessible
- The number of available languages exceeds the visible dropdown area

### Steps (User)
1. Launch Kate
2. Open **Settings → Configure Language…**
3. Open the **Primary Language** dropdown
4. Attempt to scroll the dropdown list:
   - Use mouse wheel / trackpad scrolling
   - Use keyboard navigation (Down Arrow / PageDown)
5. Repeat the same actions with the **Fallback Language** dropdown (if configured)
6. Try to reach languages that are not initially visible

### Expected Result (What system does)
- The dropdown list scrolls correctly when the number of languages exceeds the visible area.
- The user can reach and select any language in both Primary and Fallback dropdowns.
- No UI inconsistencies occur.

### Actual Result
- The dropdown list does not always scroll.
- Languages beyond the visible area cannot consistently be reached.
- The issue occurs intermittently.
- The behavior is reproducible in both Primary and Fallback Language dropdowns.

### Notes
- The issue appears to be related to the dropdown component behavior.
- The problem is not consistently reproducible but occurs after multiple dialog openings.
- The issue affects both Primary and Fallback Language selection.

---

## TC-ED-FallbackEqualsPrimary-02 – Fallback Language identical to Primary is not persisted after restart
**Type:** Edge  
**Priority:** Medium  
**Related area:** Settings → Language

### Preconditions
- Kubuntu VM is running and responsive
- Kate is installed
- The Language settings dialog is accessible

### Steps (User)
1. Launch Kate
2. Open **Settings → Configure Language…**
3. Click on **Add Fallback Language**
4. Open the **Fallback Language** dropdown
5. Select the same language as the Primary language
6. Click **OK** to confirm
7. If an informational message dialog appears, click OK to close it.
8. Restart Kate
9. Open **Settings → Configure Language…** again

### Expected Result (What system does)
- The configuration remains valid after restart.
- The application does **not** keep a duplicate fallback entry equal to the Primary Language.
- After restart, one of the following outcomes is observed:
  - A) The identical fallback selection is not present (fallback list is empty or unchanged), or
  - B) The UI prevents selecting the same language as Primary (during step 6).
- No misleading or error messages are shown.

### Actual Result (Observed)
- The identical fallback selection is accepted.
- A message is displayed indicating that the changes will take effect after restart.
- After restarting, the fallback language identical to the Primary language is not persisted and disappears.

### Notes
- The observed behavior suggests that identical fallback and primary languages are removed when the configuration is reloaded. 
- However, the restart message may be misleading, as the configuration is not effectively persisted.
- It is unclear whether this behavior is by design or a UI inconsistency.

---